<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Website</title>
    <link rel="stylesheet" href="style.css">
</head>

<script>


    function toggleSidebar() {
        
        const sidebar = document.querySelector('.sidebar');

        sidebar.classList.toggle('open'); // trigger animation
    }

    function resizeCanvas() {
        const canvas = document.querySelector('.paintCanvas');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }

    function splatterEffect(count) {
        const canvas = document.querySelector('.paintCanvas');
        

        for (var sp = 0; sp < count; sp++) {


            var sizex = Math.random() * window.innerWidth * 0.95;
            var sizey = Math.random() * window.innerHeight * 0.8;

            const splat = document.createElement('div');
            splat.classList.add('splat');

            splat.style.left = sizex + 'px';
            splat.style.top = sizey + 'px';
            splat.style.backgroundColor = getRandomColor();
            /* sprinkle in large dots */
            if (sp % 10 == 0) {
                splat.style.width = '10vw'; 
                splat.style.height = '10vw';
            }

            canvas.appendChild(splat);

        }
    }
    function getRandomColor() {
        const colors = ['#ff3838', '#1e90ff', '#32cd32', '#ffbf00', '#e91e63'];
        return colors[Math.floor(Math.random() * colors.length)];
    }   

    function fadeSplatterEffect() {
        const paints = document.querySelectorAll('.splat');
        const canvas = document.querySelector('.paintCanvas');
        canvas.classList.toggle('fade'); 

        paints.forEach(paint => {
            paint.classList.toggle('unload');
        });
        
        // delete elements to save space
        const fadingElements = document.querySelectorAll('.splat.unload');
        fadingElements.forEach((splat) => {
            splat.addEventListener('transitionend', () => {
                if (parseFloat(getComputedStyle(splat).opacity) === 0) {
                splat.remove(); 
                }
            });
        });
    }
    
    async function timedSplats() {
        await delay(500);
        splatterEffect(30);
        await delay(250);
        splatterEffect(30);
        await delay(250);
        splatterEffect(30);
        await delay(500);


        fadeSplatterEffect();
        window.removeEventListener("wheel", e => e.preventDefault(), {passive: true});  
    }
    function delay(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    
    
    window.onload = function() {
        window.addEventListener("wheel", e => e.preventDefault(), {passive: false});
        resizeCanvas();
        timedSplats()
    };
</script>

<body>
    <!-- intro -->
    <div style="z-index: 999;" class="paintCanvas"></div>


    <!-- navbar and sidebar -->
    <nav id="navigation">
        <ul class="sidebar">
            
            <li><a onclick="toggleSidebar()" href="#"><img id="menu_icon" src="Images/Icons/menu_icon.svg"></a></li>
            <li><a href="#">Home</a></li>
            <li><a href="#">About Me</a></li>
            <li><a href="#">Projects</a></li>
            <li><a href="#">Links</a></li>
        </ul>
        <ul class="header">
            <li><a href="#">Home</a></li>
            <li><a class="limit-screen" href="#">About Me</a></li>
            <li><a class="limit-screen" href="#">Projects</a></li>
            <li><a class="limit-screen" href="#">Links</a></li>
            <li><a onclick="toggleSidebar()" href ="#"><img id="menu_icon" src="Images/Icons/menu_icon.svg"></a></li>
        </ul>
    </nav>
    
    
    
    <div id="body">
        <div>
            <section class="intro-section">

            </section>

            <section class="about-me">
                <header class="section-title">
                    <div class="section-title-label">
                        <img style="width:3vw; height:3vh;" src="Images\Icons\waving-hand.svg"/>
                        <p>About Me</p>
                    </div>
                </header>
                <div class="section-content">
                    <div class="section-content-text">
                        <p>
                            Hello, my name is Dylan Nguyen. <br>
                            I am a student at University of Washington, Seattle and studied ACMS: Data Science and Statistics<br>
                            with an interest in applying topics in mathematics to real-world fields of interest. During my time at 
                            as an undergraduate, I have developed an interest and passion for linguistics (computational linguistics), 
                            applied mathematics, and game development. <br>
                            Attached below is my general resume.
                            
                        </p>
                        
                    </div>
                </div>
            </section>
        </div>
    </div>
    
    
    
</body>
</html>